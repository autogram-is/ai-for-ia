{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Accuracy versus time when categorizing documents by topic",
  "data": {
    "url": "https://raw.githubusercontent.com/eaton/rosenfeld/refs/heads/main/output/model-accuracy.csv"
  },
  "width": 600,
  "height": 400,
  "params": [
    {
      "name": "toggleFamily",
      "select": { "type": "point", "fields": ["family"] },
      "bind": "legend"
    },
  ],
  "encoding": {
    "x": {
      "field": "minutes",
      "type": "quantitative",
      "scale": {"zero": false, "type": "sqrt"}
    },
    "y": {
      "field": "accuracy",
      "type": "quantitative",
      "scale": {"zero": false, "domainMax": 50}
    },
    "tooltip": [
      {"field": "model", "type": "ordinal", "title": "Model"},
      {"field": "accuracy", "title": "Accuracy" },
      {"field": "matches", "title": "Matches" },
      {"field": "errors", "title": "Errors" },
      {"field": "minutes", "title": "Minutes Taken" },
      {"field": "cost", "title": "Cost in Dollars" }
    ],
    "opacity": {
      "condition": { "param": "toggleFamily", "value": 0.9 },
      "value": 0.2
    },
    "shape": {"field": "family", "type": "nominal"},
    "color": {"field": "technique", "type": "nominal"}
  },
  "layer": [
    { "mark": { "type": "point", "size": 80 } }
  ],
  "config": {
    "style": {
      "label": {
        "align": "right",
        "baseline": "middle",
        "dx": -5,
        "dy": -8
      }
    }
  }
}

